"use strict";(self.webpackChunk_dove_docs=self.webpackChunk_dove_docs||[]).push([[956],{4255:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var t=s(1855);const r={},o=t.createContext(r);function c(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),t.createElement(o.Provider,{value:n},e.children)}},4338:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>l,frontMatter:()=>c,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"persistence","title":"\u6570\u636e\u6301\u4e45\u5316\uff08Prisma + \u591a\u6570\u636e\u5e93\uff09","description":"- \u5728 @dove/db \u9009\u62e9\u6570\u636e\u5e93\uff1a","source":"@site/docs/persistence.md","sourceDirName":".","slug":"/persistence","permalink":"/docs/docs/persistence","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Contentlayer + MDX","permalink":"/docs/docs/content"},"next":{"title":"\u5916\u90e8 Providers\uff08@dove/adapters\uff09","permalink":"/docs/docs/providers"}}');var r=s(3159),o=s(4255);const c={},d="\u6570\u636e\u6301\u4e45\u5316\uff08Prisma + \u591a\u6570\u636e\u5e93\uff09",i={},a=[];function p(e){const n={code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u6570\u636e\u6301\u4e45\u5316prisma--\u591a\u6570\u636e\u5e93",children:"\u6570\u636e\u6301\u4e45\u5316\uff08Prisma + \u591a\u6570\u636e\u5e93\uff09"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5728 ",(0,r.jsx)(n.code,{children:"@dove/db"})," \u9009\u62e9\u6570\u636e\u5e93\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run db:select:postgres -w @dove/db   # \u6216 mysql / sqlite\nnpm run -w @dove/db prisma:generate\nnpm run -w @dove/db prisma:migrate\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u540e\u53f0 API ",(0,r.jsx)(n.code,{children:"apps/admin/app/api/posts/route.ts"})," \u4f7f\u7528 Prisma ",(0,r.jsx)(n.code,{children:"upsert"}),"\u3002"]})]})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}}}]);